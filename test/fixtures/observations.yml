# These fixtures use Advanced Features, including autogenerated IDs and label
# references for associations. Some associations for this fixture may be defined
# in a fixture on the opposite side of the association.
# See http://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html
#
# If an Observation fixture has any images, it must have a thumb_image because
# Query uses existence of thumb as efficient hack for existence of images.
# If an Observation fixture has a where, it must also have a blank location
# in order to override DEFAULTS, e.g.:
#   where: somewhere
#   location:

# IMPORTANT: When creating a new observation fixture, you need to also create a
# corresponding rss_log, since the observation index now sorts by rss_log.

# Instead of writing simple one-off fixtures for new tests, consider creating
# records on the fly within the test. This will generate both obs and rss_log.

DEFAULTS: &DEFAULTS
  name: boletus_edulis
  notes: <%= Observation.no_notes %>
  location: obs_default_location
  where: MO Inc., 68 Bay Rd., North Falmouth, Massachusetts, USA
  user: dick
  vote_cache: 0.0
  when: <%= Time.now.strftime("%Y-%m-%d") %> # yyyy-mm-dd
  is_collection_location: 1
  lifeform: " "
  text_name: Boletus edulis
  classification: ""
  rss_log: $LABEL_rss_log

minimal_unknown_obs:
  <<: *DEFAULTS
  created_at: 2006-05-12 14:20:00
  updated_at: 2006-05-12 14:21:00
  when: 2006-05-11
  user: mary
  location: burbank
  is_collection_location: 1
  where: Burbank, California, USA
  name: fungi
  text_name: Fungi
  species_lists: unknown_species_list
  herbarium_records: interesting_unknown
  collection_numbers: minimal_unknown_coll_num
  source: <%= Observation.sources[:mo_website] %>

detailed_unknown_obs:
  <<: *DEFAULTS
  created_at: 2006-05-12 17:20:00
  updated_at: 2006-05-12 17:21:00
  when: 2006-05-11
  location: burbank
  where: Burbank, California, USA
  user: mary
  name: fungi
  text_name: Fungi
  specimen: 1
  notes:
    :Other: Found in a strange place... & with śtrangè characters™
  thumb_image: in_situ_image
  images: in_situ_image, turned_over_image
  species_lists: unknown_species_list
  herbarium_records: interesting_unknown, fundis_record
  collection_numbers: detailed_unknown_coll_num_one, detailed_unknown_coll_num_two
  source: <%= Observation.sources[:mo_website] %>

coprinus_comatus_obs:
  <<: *DEFAULTS
  created_at: 2007-02-27 20:20:00
  updated_at: 2007-02-27 20:21:00
  when: 2007-02-27
  user: rolf
  name: coprinus_comatus
  text_name: Coprinus comatus
  classification: "Kingdom: _Fungi_\r\nPhylum: _Basidiomycota_\r\nClass: _Basidiomycetes_\r\nOrder: _Agaricales_\r\nFamily: _Agaricaceae_"
  location:
  where: Glendale, California
  specimen: 1
  notes:
    :Other: Second fruiting in bark chips
  vote_cache: 1
  thumb_image: connected_coprinus_comatus_image
  images: connected_coprinus_comatus_image
  species_lists: one_genus_three_species_list
  herbarium_records: coprinus_comatus_nybg_spec, coprinus_comatus_rolf_spec
  collection_numbers: coprinus_comatus_coll_num

agaricus_campestris_obs:
  <<: *DEFAULTS
  created_at: 2007-03-19 20:20:00
  updated_at: 2007-03-19 20:21:00
  when: 2007-03-19
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: agaricus_campestris
  text_name: Agaricus campestris
  classification: "Kingdom: _Fungi_\r\nPhylum: _Basidiomycota_\r\nClass: _Basidiomycetes_\r\nOrder: _Agaricales_\r\nFamily: _Agaricaceae_"
  notes:
    :Other: From the lawn next door
  thumb_image: agaricus_campestris_image
  images: agaricus_campestris_image
  species_lists: one_genus_three_species_list
  herbarium_records: agaricus_campestris_spec
  collection_numbers: agaricus_campestris_coll_num

agaricus_campestrus_obs:
  <<: *DEFAULTS
  created_at: 2007-06-23 20:00:00
  updated_at: 2007-06-23 20:00:00
  when: 2007-06-23
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: agaricus_campestrus
  text_name: Agaricus campestrus
  classification: "Kingdom: _Fungi_\r\nPhylum: _Basidiomycota_\r\nClass: _Basidiomycetes_\r\nOrder: _Agaricales_\r\nFamily: _Agaricaceae_"
  notes:
    :Other: From somewhere else

agaricus_campestras_obs:
  <<: *DEFAULTS
  created_at: 2007-06-24 09:00:00
  updated_at: 2007-06-24 09:00:01
  when: 2007-06-24
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: agaricus_campestras
  text_name: Agaricus campestras
  classification: "Kingdom: _Fungi_\r\nPhylum: _Basidiomycota_\r\nClass: _Basidiomycetes_\r\nOrder: _Agaricales_\r\nFamily: _Agaricaceae_"
  notes:
    :Other: From somewhere else

agaricus_campestros_obs:
  <<: *DEFAULTS
  created_at: 2007-06-24 12:00:00
  updated_at: 2007-06-24 12:00:01
  when: 2007-06-24
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: agaricus_campestros
  text_name: Agaricus campestros
  classification: "Kingdom: _Fungi_\r\nPhylum: _Basidiomycota_\r\nClass: _Basidiomycetes_\r\nOrder: _Agaricales_\r\nFamily: _Agaricaceae_"
  notes:
    :Other: From somewhere else

strobilurus_diminutivus_obs:
  <<: *DEFAULTS
  created_at: 2007-07-20 20:54:45
  updated_at: 2007-07-20 20:54:45
  when: 2007-07-20
  user: rolf
  location:
  name: strobilurus_diminutivus_no_author
  text_name: Strobilurus diminutivus
  where: Pipi Valley, Sierra Mountains, CA
  notes:
    :Other: From somewhere else

stereum_hirsutum_1:
  <<: *DEFAULTS
  created_at: 2017-06-22 17:20:00
  updated_at: 2017-06-22 17:21:00
  when: 2017-06-22
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: stereum_hirsutum
  text_name: Stereum hirsutum

stereum_hirsutum_2:
  <<: *DEFAULTS
  created_at: 2017-06-23 17:20:00
  updated_at: 2017-06-23 17:21:00
  when: 2017-06-23
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: stereum_hirsutum
  text_name: Stereum hirsutum

tubaria_furfuracea_1:
  <<: *DEFAULTS
  created_at: 2017-06-24 17:20:00
  updated_at: 2017-06-24 17:21:00
  when: 2017-06-24
  lat: NULL
  long: NULL
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: tubaria_furfuracea
  text_name: Tubaria furfuracea

tubaria_furfuracea_2:
  <<: *DEFAULTS
  created_at: 2017-06-24 20:20:00
  updated_at: 2017-06-24 20:21:00
  when: 2017-06-24
  location: burbank
  where: Burbank, California, USA
  user: rolf
  name: tubaria_furfuracea
  text_name: Tubaria furfuracea

unknown_with_no_naming:
  <<: *DEFAULTS
  created_at: 2008-09-23 17:20:00
  updated_at: 2008-09-23 17:21:00
  when: 2008-09-23
  user: mary
  location:
  where: Who knows where
  name: fungi
  text_name: Fungi

unknown_with_lat_long:
  <<: *DEFAULTS
  created_at: 2010-07-22 09:20:00
  updated_at: 2010-07-22 09:21:00
  when: 2010-07-22
  location: burbank
  where: Burbank, California, USA
  user: mary
  name: fungi
  text_name: Fungi
  lat: 34.1622
  long: -118.3521
  alt: 123
  notes:
    :Other: 'unknown_with_lat_long'

trusted_hidden:
  <<: *DEFAULTS
  created_at: 2023-11-05 09:20:00
  updated_at: 2023-11-05 09:21:00
  when: 2023-11-05
  location: falmouth
  where: Falmouth, Massachusetts, USA
  user: mary
  name: fungi
  text_name: Fungi
  gps_hidden: true
  lat: 41.6022
  long: -70.5021
  alt: 123

untrusted_hidden:
  <<: *DEFAULTS
  created_at: 2023-11-05 09:20:00
  updated_at: 2023-11-05 09:21:00
  when: 2023-11-05
  location: falmouth
  where: Falmouth, Massachusetts, USA
  user: katrina
  name: fungi
  text_name: Fungi
  gps_hidden: true
  lat: 41.6055
  long: -70.5055
  alt: 123

amateur_obs:
  <<: *DEFAULTS
  created_at: 2010-12-31 06:46:00
  when: 2010-12-30
  user: katrina
  location:
  where: 'Pasadena, California, USA'
  is_collection_location: 0
  name: conocybe_filaris
  text_name: Conocybe filaris
  specimen: 1
  notes:
    :Other: 'A friend showed me this.'
  lat: 34.1622
  long: -118.3521
  source: <%= Observation.sources[:mo_iphone_app] %>

peltigera_obs:
  <<: *DEFAULTS
  created_at: 2014-04-04 04:04:03
  updated_at: 2014-04-04 04:04:03
  when: 2012-06-07
  user: rolf
  location:
  where: 'Briceland, California, USA'
  name: peltigera
  text_name: Peltigera
  classification: "Kingdom: _Fungi_\r\nPhylum: _Ascomycota_\r\nClass: _Ascomycetes_\r\nOrder: _Lecanorales_\r\nFamily: _Peltigeraceae_"
  specimen: 1
  notes:
    :Other: 'Growing on a hardwood'
  vote_cache: 3
  thumb_image: peltigera_image
  images: peltigera_image
  species_lists: one_genus_three_species_list
  lifeform: " lichen "
  herbarium_records: field_museum_record

peltigera_mary_obs:
  <<: *DEFAULTS
  created_at: 2014-05-04 05:05:05
  updated_at: 2014-05-04 05:05:05
  when: 2013-09-08
  user: mary
  location:
  where: 'Briceland, California, USA'
  name: peltigera
  text_name: Peltigera
  classification: "Kingdom: _Fungi_\r\nPhylum: _Ascomycota_\r\nClass: _Ascomycetes_\r\nOrder: _Lecanorales_\r\nFamily: _Peltigeraceae_"
  specimen: 1
  notes:
    :Other: 'Growing on a hardwood'
  vote_cache: 3
  thumb_image: rolf_profile_image
  images: rolf_profile_image
  lifeform: " lichen "

fungi_obs:
  <<: *DEFAULTS
  created_at: 2013-09-15 04:04:04
  updated_at: 2013-09-15 04:04:07
  when: 2013-09-15
  user: rolf
  location:
  where: 'Briceland, California, USA'
  is_collection_location: 0
  name: fungi
  text_name: Fungi
  notes:
    :Other: 'Observation for plane pileus'
  vote_cache: 3
  thumb_image: conic_image
  images: conic_image, plane_image_example

boletus_edulis_obs:
  <<: *DEFAULTS
  created_at: 2014-04-21 04:04:04
  updated_at: 2014-04-21 04:04:07
  when: 2014-04-21
  location:
  where: 'New York, New York, USA'
  name: boletus_edulis
  text_name: Boletus edulis
  is_collection_location: 0
  notes:
    :Other: 'A tasty bolete!'
  vote_cache: 3
  species_lists: one_genus_three_species_list

owner_only_favorite_eq_fungi:
  <<: *DEFAULTS
  created_at: 2018-04-21 04:04:04
  when: 2018-04-21

owner_only_favorite_eq_consensus:
  <<: *DEFAULTS
  created_at: 2018-04-21 04:06:04
  when: 2018-04-21

owner_only_favorite_ne_consensus:
  <<: *DEFAULTS
  created_at: 2020-02-03 04:06:04
  when: 2020-02-03
  name: tremella
  text_name: Tremella
  lifeform: " lichenicolous "

owner_multiple_favorites:
  <<: *DEFAULTS
  created_at: 2020-04-05 04:06:04
  when: 2020-04-05

owner_uncertain_favorite:
  <<: *DEFAULTS
  created_at: 2020-06-07 04:06:04
  when: 2020-06-07

owner_accepts_general_questions:
  <<: *DEFAULTS
  created_at: 2020-07-08 04:06:04
  when: 2020-07-08
  user: roy                      # roy has email_general_questions == true

owner_refuses_general_questions:
  <<: *DEFAULTS
  created_at: 2020-05-05 04:06:04
  when: 2020-05-05
  user: dick                     # dick has email_general_questions == false

collected_at_obs:
  <<: *DEFAULTS
  created_at: 2020-05-06 04:06:04
  when: 2020-05-06
  location: collection_location
  where: Collection Location

displayed_at_obs:
  <<: *DEFAULTS
  created_at: 2020-05-07 04:06:04
  when: 2020-05-07
  location: display_location
  where: Display Location
  is_collection_location: false

two_img_obs:
  <<: *DEFAULTS
  created_at: 2020-05-08 04:06:04
  when: 2020-05-08
  location: display_location
  where: Display Location
  is_collection_location: false
  images: query_first_image, query_second_image
  thumb_image: query_first_image

imageless_unvouchered_obs:
  <<: *DEFAULTS
  created_at: 2020-11-11 04:06:04
  when: 2020-11-11
  user: ignore_imageless_user

# need >=2 imaged B edulis Obs's for filter tests
imged_unvouchered_obs:
  <<: *DEFAULTS
  created_at: 2020-11-12 04:06:04
  when: 2020-11-12
  images: query_first_image
  thumb_image: query_first_image

vouchered_obs:
  <<: *DEFAULTS
  created_at: 2020-11-20 04:06:04
  when: 2020-11-20
  specimen: 1

vouchered_imged_obs:
  <<: *DEFAULTS
  created_at: 2020-11-21 04:06:04
  when: 2020-11-21
  specimen: 1
  images: query_first_image
  thumb_image: query_first_image

updated_2013_obs:
  <<: *DEFAULTS
  created_at: 2013-09-08 04:06:04
  updated_at: 2013-09-08 17:21:00
  when: 2013-09-08

# Two Observations sortable by Name, Date, Date Posted, Time Last Modified
sortable_obs_users_first_obs:
  <<: *DEFAULTS
  created_at: 2016-01-10 17:20:00
  updated_at: 2016-01-11 17:20:00
  when: 2016-01-10
  user: sortable_obs_user
  name: tremella_justpublished
  text_name: Tremella justpublished
  location: sortable_observation_user_location
  where: Sortable Observation User, New York, USA
  lifeform: " lichenicolous "

sortable_obs_users_second_obs:
  <<: *DEFAULTS
  created_at: 2017-01-10 17:20:00
  updated_at: 2017-01-11 17:20:00
  when: 2017-01-10
  user: sortable_obs_user
  name: tremella_mesenterica
  text_name: Tremella mesenterica
  location: sortable_observation_user_location
  where: Sortable Observation User, New York, USA
  lifeform: " lichenicolous "

unlisted_rolf_obs:
  <<: *DEFAULTS
  created_at: 2010-07-10 04:06:04
  when: 2010-07-10
  location: point_reyes
  where: Point Reyes National Seashore, Marin Co., California, USA
  user: rolf

# default user (dick) has unequal positive namings
# used for testing change vote
unequal_positive_namings_obs:
  <<: *DEFAULTS
  created_at: 2010-07-11 04:06:04
  when: 2010-07-11

# used for testing calc_consensus
all_namings_deprecated_obs:
  <<: *DEFAULTS
  created_at: 2010-07-12 04:06:04
  when: 2010-07-12
  name: namings_deprecated
  text_name: Namings deprecated

# Has 2 namings
# Has two namings, which (under current rules) makes the Names unmergeable
authored_with_naming_obs:
  <<: *DEFAULTS
  created_at: 2010-08-12 04:06:04
  when: 2010-08-12
  name: authored_with_naming
  text_name: Psalliota naming

# dick owns the Name and Observation, but mary owns a Naming
other_user_owns_naming_obs:
  <<: *DEFAULTS
  created_at: 2010-08-13 04:06:04
  when: 2010-08-13
  name: other_user_owns_naming_name
  text_name: Otheruserownsnaming
  user: dick

# dick owns the Name and Naming, but mary owns an Observation
other_user_owns_obs:
  <<: *DEFAULTS
  created_at: 2010-08-14 04:06:04
  when: 2010-08-14
  name: other_user_owns_observation
  text_name: Otheruserownsobs
  user: mary

# dick owns the Name and the only Observation and Naming
same_user_owns_name_and_naming_obs:
  <<: *DEFAULTS
  created_at: 2015-06-01 14:26:07
  when: 2015-06-01
  name: same_user_owns_naming_and_observation
  text_name: Sameuserownsnamingandobservation
  user: dick

# has Sequence which has not been deposited in an Archive
locally_sequenced_obs:
  <<: *DEFAULTS
  created_at: 2015-06-01 14:36:04
  when: 2015-06-01
  images: locally_sequenced_obs_image
  thumb_image: locally_sequenced_obs_image

# has Sequence which is in GenBank
genbanked_obs:
  <<: *DEFAULTS
  created_at: 2015-06-02 14:26:05
  when: 2015-06-02

substrate_notes_obs:
  <<: *DEFAULTS
  created_at: 2015-06-02 04:07:05
  when: 2015-06-02
  notes:
    :substrate: soil

substrate_and_other_notes_obs:
  <<: *DEFAULTS
  created_at: 2015-06-02 04:08:05
  when: 2015-06-02
  notes:
    :substrate: soil
    :Other: slimy

templater_noteless_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 03:08:03
  when: 2015-05-05
  user: notes_templater

templater_other_notes_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 03:09:03
  when: 2015-05-05
  notes:
    :Other: some notes
  user: notes_templater

templater_orphaned_notes_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 08:06:03
  when: 2015-05-05
  notes:
    :orphaned_caption: orphaned notes
  user: notes_templater

template_only_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 09:03:03
  when: 2015-05-05
  notes:
    :Cap: red
  user: notes_templater

template_and_other_notes_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 12:06:03
  when: 2015-05-05
  notes:
    :Cap: red
    :Other: some notes
  user: notes_templater

template_and_orphaned_notes_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 14:06:03
  when: 2015-05-05
  notes:
    :Cap: red
    :orphaned_caption: orphaned notes
  user: notes_templater

template_and_orphaned_notes_scrambled_obs:
  <<: *DEFAULTS
  created_at: 2015-05-05 14:06:04
  when: 2015-05-05
  notes:
    :Nearby_trees: pine
    :orphaned_caption_1: orphaned notes 1
    :Other: other notes
    :orphaned_caption_2: orphaned notes 2
    :Cap: red
  user: notes_templater

california_obs:
  <<: *DEFAULTS
  created_at: 2022-04-05 04:06:04
  when: 2022-04-05
  location: california
  where: California, USA

perkatkun_obs:
  <<: *DEFAULTS
  created_at: 2023-09-28 17:51:04
  when: 2023-09-28
  location: perkatkun
  where: Perkatkun, Wrangel Island, Russia

# has alternative preferred name
chlorophyllum_rachodes_obs:
  <<: *DEFAULTS
  created_at: 2023-02-04 04:06:04
  when: 2023-02-04
  name: chlorophyllum_rachodes
  classification: "Kingdom: _Fungi_\r\nPhylum: _Basidiomycota_\r\nClass: _Basidiomycetes_\r\nOrder: _Agaricales_\r\nFamily: _Agaricaceae_"

wolf_fart:
  <<: *DEFAULTS
  created_at: 2023-11-01 04:06:04
  when: 2023-11-01
  user: lone_wolf
  name: lycoperdon_perlatum
  text_name: Lycoperdon perlatum
  species_lists: lone_wolf_list
  thumb_image: lone_wolf_image
  # wolf_fart issue.  Switch comments for next 2 lines
  images: lone_wolf_image
  # images: lone_wolf_image, lone_wolf_image2

reused_observation:
  <<: *DEFAULTS
  user: rolf
  when: 2023-11-19
  location: obs_default_location
  lat: NULL
  long: NULL
  species_lists: reused_list
  rss_log:
