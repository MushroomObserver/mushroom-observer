<%
  @title = :image_add_title.t(name: @observation.unique_format_name)
  new_tab_set do
    add_tab_with_query(:cancel_and_show.t(type: :observation),
                       controller: :observer, action: :show_observation, id: @observation.id)
    add_tab_with_query(:image_add_edit.t,
                       controller: :observer, action: :edit_observation, id: @observation.id)
  end
%>

<div class="row">
  <div class="col-xs-12 max-width-text">

    <%= form_for(:image, url: add_query_param(action: :add_image, id: @observation.id),
                 html: {multipart: true}) do |form| %>
      <%= hidden_field(:observation, :id) %>

      <div id="license-notice push-down"><%= :image_add_warning.tp %></div>

      <%= submit_tag(:image_add_upload.l, class: "btn center-block push-down") %>

      <div class="form-group form-inline push-down">
        <%= label_tag(:upload_image1, :image_add_image.t + " 1") %>:
          <%= image_file_field(:upload, :image1) %>
          (<%= :image_add_default.t %>)<br/>
        <%= label_tag(:upload_image2, :image_add_image.t + " 2") %>:
          <%= image_file_field(:upload, :image2) %>
          (<%= :image_add_optional.t %>)<br/>
        <%= label_tag(:upload_image3, :image_add_image.t + " 3") %>:
          <%= image_file_field(:upload, :image3) %>
          (<%= :image_add_optional.t %>)<br/>
        <%= label_tag(:upload_image4, :image_add_image.t + " 4") %>:
          <%= image_file_field(:upload, :image4) %>
          (<%= :image_add_optional.t %>)<br/>
      </div>

      <%= render(partial: "form_images", locals: {form: form, width: 80, leave_out_original_file_name: true}) %>

      <%= submit_tag(:image_add_upload.l, class: "btn center-block push-down") %>
    <% end %>
  </div>
</div>
