<%#
// Re-render the whole comments_for_object block, because if there are no
// comments now (from a delete), we want to display the no comments message.
// comments_for_object needs locals: object, comments, controls, limit
// create or update should provide.
%>

<%= turbo_stream.replace("comments_for_object") do
  render(
    partial: "comments/comments_for_object",
    locals: { object: @target, comments: @comments,
              controls: @user, limit: nil },
    layout: false
  )
end %>
