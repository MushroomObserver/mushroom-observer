<%
add_show_title(@glossary_term.name, @glossary_term)
add_edit_icons(@glossary_term, @user)
container_class(:wide)
column_classes(:eight_four)
%>

<%= tag.div(class: "row") do %>
  <%= tag.div(class: yield(:left_columns)) do %>

    <%= tag.div(class: "content-block") do %>
      <%= @glossary_term.description.tpl %>
      <%= tag.p(link_to(*search_tab_for(:Wikipedia, @glossary_term.name))) %>
    <% end %>

  <% end %>

  <%= tag.div(class: yield(:right_columns)) do %>
    <% if @glossary_term.thumb_image %>
      <%= render(Components::InteractiveImage.new(
        user: @user,
        image: @glossary_term.thumb_image,
        size: :medium,
        votes: true,
        id_prefix: "glossary_term_image"
      )) %>
    <% end %>
  <% end %>
<% end %>
<!--.row-->

<%= tag.div(class: "mb-3 content-block") do %>
  <%= link_to(:show_glossary_term_reuse_image.t,
              reuse_images_for_glossary_term_path(@glossary_term.id)) %><br/>
  <%= link_to(:show_glossary_term_remove_image.t,
              remove_images_from_glossary_term_path(@glossary_term.id)) %><br/>
<% end %>

<%= tag.div(class: "row") do %>
  <% @other_images.each do |image|  %>
    <%= tag.div(class: "col-sm-4") do %>
      <%= render(Components::Panel.new) do |panel| %>
        <%= panel.with_thumbnail do
              render(Components::InteractiveImage.new(
                user: @user,
                image: image,
                votes: true,
                id_prefix: "glossary_term_image"
              ))
            end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
<!--.row-->

<%= tag.div(class: "mt-3 content-block") do %>
  <%= show_previous_version(@glossary_term, @versions) %>
  <%= tag.p(class: "Date") do %>
    <%= :footer_created_at.t(date: @glossary_term.created_at.web_time) %>
    <%= tag.br %>
    <%= :footer_last_updated_at.t(date: @glossary_term.updated_at.web_time) %>
  <% end %>
<% end %>

<%= render(Components::Panel.new(
      panel_id: "glossary_term_authors_editors"
    )) do |panel| %>
  <%= panel.with_body do %>
    <%= render(Components::AuthorsAndEditors.new(
          obj: @glossary_term,
          versions: @versions,
          user: @user
        )) %>
  <% end %>
<% end %>
