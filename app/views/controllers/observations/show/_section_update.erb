<%# locals: (identifier:) -%>

<%=
# Update observation view with results of update or create
id = "observation_#{identifier}"

if identifier == "namings"
  partial = "observations/namings/table"
  turbo_stream.replace(id) do
    render(
      partial: partial,
      locals: { obs: @observation, consensus: @consensus },
      layout: false
    )
  end
else
  partial = "observations/show/#{identifier}"
  turbo_stream.replace(id) do
    render(
      partial: partial,
      locals: { obs: @observation },
      layout: false
    )
  end
end
%>

<%= turbo_stream.update("page_flash") do
  flash_notices_html
end %>
