<%=
  id = "user_project_alias_#{@project_alias.target_id}"
  turbo_stream.replace(id) do
    render(
      partial: "projects/aliases",
      locals: { project: @project_alias.project, user: @project_alias.target }
    )
  end
%>

<%# modals are not removed via data-controller="section-update" because the turbo elements are being replaced, not updated, so the connection is lost %>
<% if params[:action] == "update" %>
  <%= turbo_stream.close_modal("modal_project_alias_#{@project_alias.id}") %>
  <%= turbo_stream.remove("modal_project_alias_#{@project_alias.id}") %>
<% else %>
  <%= turbo_stream.close_modal("modal_project_alias") %>
  <%= turbo_stream.remove("modal_project_alias") %>
<% end %>
