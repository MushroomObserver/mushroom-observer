<%
add_project_banner(@project) if @project
page_title = "#{:SPECIES_LIST.l}: #{@species_list.unique_format_name}"
show_title = [
  @species_list.title,
  tag.span(@species_list.id, class: "badge badge-outline ml-3")
].safe_join(" ")
add_page_title(show_title, page_title)
add_interest_icons(@user, @species_list)
add_edit_icons(@species_list)
add_context_nav(species_list_show_tabs(list: @species_list, query: @query))
add_pager_for(@species_list) # takes you to prev/next list, not page of obs
add_pagination(@pagination_data)
query_params_set(@query) if @pagination_data.any?
container_class(:double)
column_classes(:nine_three)
%>

<%= tag.div(class: "row") do %>
  <%= tag.div(class: yield(:left_columns)) do %>

    <%= render(partial: "shared/list_search",
               locals: { object: @species_list }) %>

    <%= render(partial: "species_lists/details") %>

    <%= project_species_list_buttons(@species_list, @query).safe_join %>

    <%= paginated_results do %>
      <%= tag.div(class: "list-group") do %>
        <% if @objects.any? %>
          <% @objects.each do |observation| %>
            <%= render(partial: "species_lists/observation",
                       locals: { observation: }) %>
          <% end %>
        <% else %>
          <%= tag.div(:species_list_show_no_members.tp) %>
        <% end %>
      <% end %>
    <% end %>

    <%= render(
      partial: "comments/comments_for_object",
      locals: { object: @species_list, comments: @comments,
                controls: @user, limit: nil }
    ) %>

    <%= show_object_footer(@user, @species_list) %>

  <% end %>
<% end %>

