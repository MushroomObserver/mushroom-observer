<%
container_class(:double)
column_classes(:nine_three)
if @project
  add_project_banner(@project)
else
  show_title = @species_list.unique_format_name
  add_page_title(show_title, ["#{:SPECIES_LIST.l}:", show_title].safe_join(" "))
  add_context_nav(species_list_show_tabs(list: @species_list, query: @query))
  add_pager_for(@species_list)
  add_interest_icons(@user, @species_list)
  add_edit_icons(@species_list)
end
query_params_set(@query) if @pagination_data.any?
%>

<%= tag.div(class: "row") do %>
  <%= tag.div(class: yield(:left_columns)) do %>

    <%= species_list_title_panel(@species_list) if @project %>

    <%= render(partial: "shared/list_search",
               locals: { object: @species_list }) %>

    <%= render(partial: "species_lists/details") %>

    <%= project_species_list_buttons(@species_list, @query).safe_join %>

    <%= paginated_results do %>
      <%= tag.div(class: "list-group") do %>
        <% if @objects.any? %>
          <% @objects.each do |observation| %>
            <%= render(partial: "species_lists/observation",
                       locals: { observation: }) %>
          <% end %>
        <% else %>
          <%= tag.div(:species_list_show_no_members.tp) %>
        <% end %>
      <% end %>
    <% end %>

    <%= render(
      partial: "comments/comments_for_object",
      locals: { object: @species_list, comments: @comments,
                controls: @user, limit: nil }
    ) %>

    <%= show_object_footer(@user, @species_list) %>

  <% end %>
<% end %>

