<%# locals: (observation:) %>

<%# One observation for the species list show page %>

<%= tag.div(class: "list-group-item") do %>
  <%= tag.div(class: "row") do %>
    <%= tag.div(class: "col-sm-4 col-md-3") do %>
      <%= if observation.thumb_image_id
          interactive_image(
            @user,
            observation.thumb_image,
            image_link: observation_path(id: observation.id),
            votes: true
          )
        end %>
    <% end %>
    <%= tag.div(class: "col-sm-8 col-md-9") do %>
      <%= tag.p(class: "font-weight-bold mb-0") do %>
        <%= link_to(
          observation.unique_format_name.t,
          observation_path(id: observation.id, q: get_query_param(@query))
        ) %>
      <% end %>
      <%= tag.p(class: "font-weight-bold mb-0") do %>
        <%= location_link(observation.where, observation.location) %>
      <% end %>
      <%= tag.p do
        [user_link(observation.user), ": ", observation.when.web_date].safe_join
      end %>
      <% if check_permission(@species_list) %>
        <%= put_button(
          name: :REMOVE.t,
          path: observation_species_list_path(
            id: observation.id,
            species_list_id: @species_list.id,
            commit: "remove"
          ), data: { confirm: :are_you_sure.l }
        ) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
