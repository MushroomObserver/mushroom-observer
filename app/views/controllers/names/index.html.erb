<%
container_class(:text_image)
add_index_title(@query)
add_context_nav(all_names_index_tabs(query: @query))
add_sorter(@query, names_index_sorts(query: @query))
# Let test_index test pass args to pagination_links.
args = @test_pagination_args || {}
add_pagination(@pagination_data, args)

flash_error(@error) if @error && @objects.empty?
%>

<% if @name_suggestions.any? %>
  <%= render(partial: "names/show/name_suggestions",
             locals: { names: @name_suggestions }) %>
<% end %>

<%= @help.tp if @help %>

<%= paginated_results do %>
  <% if @objects.any? %>
    <% counts = Name.count_observations(@objects) %>

    <%= tag.div(class: "list-group name-index") do %>
      <%= render(partial: "name", collection: @objects, as: :name,
                 locals: { counts: }) %>
    <% end %>

  <% end %>
<% end %>
