<%
description_links = list_descriptions(user: @user, object: @name, type: :name) || []
heading = :show_name_descriptions.l
link = icon_link_to(*name_new_description_tab(@name))
heading_links = @user ? link&.html_safe : ""
%>

<%= render(Components::Panel.new(panel_id: "name_descriptions")) do |panel| %>
  <%= panel.with_heading do %>
    <%= heading %>
  <% end %>
  <% if @user %>
    <%= panel.with_heading_links do %>
      <%= heading_links %>
    <% end %>
  <% end %>
  <%= panel.with_body do %>
    <% description_links.each do |desc| %>
      <%= tag.div(desc) %>
    <% end %>
    <% if description_links.empty? %>
      <%= :show_name_no_descriptions.t %>
    <% end %>
    <% nil %>
  <% end %>
<% end %>
