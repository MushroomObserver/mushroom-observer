<%=
  tag.div(id: "updates",
          data: { controller: "field-slip-job",
                  endpoint: inat_import_job_tracker_path(
                    inat_import_id: tracker.inat_import,
                    id: tracker.id
                  ) }) do
    [
      tag.p do
        [
          # Status: <status>
          tag.span(class: "font-weight-bold") do
            "#{:inat_import_tracker_status.t}: "
          end,
          tag.span(tracker.status,
                   data: { inat_import_job_target: "status",
                           status: tracker.status }),
          tag.br,
          # Imported n of m observations
          tag.span(class: "font-weight-bold") do
                   "#{:inat_import_imported.t}: "
          end,
          tag.span(tracker.imported_count,
                   data: { inat_import_job_target: "imported",
                           imported: tracker.imported_count }),
          tag.span(class: "mr-2") { " #{:of.t}" },
          tag.span(tracker.importables,
                   data: { inat_import_job_target: "importables",
                           importables: tracker.importables }),
          tag.span(" #{:observations.t}")
        ].safe_join
      end,

      # Timings
      # Started: yyyy-mm-dd hh:mm:ss -nnnn
      tag.span(class: "font-weight-bold") do
        "#{:inat_import_tracker_started.l}: "
      end,
      tag.span(tracker.created_at&.strftime("%Y-%m-%d %H:%M:%S %z")),
      tag.br,

      tag.span(class: "font-weight-bold") do
        "#{:inat_import_tracker_elapsed.l}: "
      end,
      tag.span(tracker.elapsed,
               data: { inat_import_job_target: "elapsed",
                       elapsed: tracker.elapsed }),
      tag.br,

      tag.span(class: "font-weight-bold") do
        "#{:inat_import_tracker_ended.l}: "
      end,
      tag.span(tracker.ended_at,
               data: { inat_import_job_target: "ended_at",
                       ended_at: tracker.ended_at }),
      tag.br,

      tag.span(tracker.error_caption,
               data: { inat_import_job_target: "error_caption",
                       error_caption: tracker.error_caption },
               class: "font-weight-bold"),
      tag.span(tracker.response_errors,
               data: { inat_import_job_target: "response_errors",
                       response_errors: tracker.response_errors },
               class: "violation-highlight"),
      tag.br
    ].safe_join
  end
%>
