<%=
# Caption needs object for copyright info
presenter = ImagePresenter.new(image, args)
set_width = presenter.width.present? ? "width: #{presenter.width}px;" : ""

[
  tag.div(class: "image-sizer position-relative mx-auto",
          style: set_width.to_s) do
    [
      tag.div(class: "image-lazy-sizer overflow-hidden",
              style: "padding-bottom: #{presenter.proportion}%;") do
        [
          image_tag("placeholder.svg", presenter.options_lazy),
          tag.noscript do
            image_tag(presenter.img_src, presenter.options_noscript)
          end
        ].safe_join
      end,
      image_stretched_link(presenter.image_link,
                           presenter.image_link_method),
      lightbox_link(presenter.lightbox_data),
      image_vote_section_html(presenter.image, presenter.votes)
    ].safe_join
  end,
  image_owner_original_name(presenter.image, presenter.original)
].safe_join
%>