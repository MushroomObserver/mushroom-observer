<%# locals: (user:, object:, projects: nil, current: nil) -%>
<%
type = object.type_tag

# Add title and maybe "no descriptions", wrapping it all up in paragraph.
list = list_descriptions(user:, object:, type:, current:)
any = list.any?
list << indent + :"show_#{type}_no_descriptions".t unless any
html = list.safe_join(safe_br)

html = add_list_of_projects(object, type, html, projects) if projects.present?
%>

<%# Show existing drafts, with link to create new one. %>
<%= render(Components::Panel.new(inner_id: "alt_descriptions")) do |panel| %>
  <%= panel.with_heading { :show_name_descriptions.l } %>
  <%= panel.with_heading_links do
        icon_link_to(*create_description_tab(object, type))
      end %>
  <%= panel.with_body { html.html_safe } %>
<% end %>
