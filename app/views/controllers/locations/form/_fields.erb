<%# locals: (display_name: nil, location: nil, button: nil, f: nil) -%>

<%= tag.div(class: "mt-3") do
  f.label(:display_name, :WHERE.t + ":")
end %>

<%= tag.div(class: "input-group") do %>
  <%= f.text_field(:display_name, value: display_name,
    class: "form-control",
    data: { autofocus: true, map_target: "placeInput" }
  ) %>

  <%= tag.span(class: "input-group-btn") do
    tag.button(
      :form_locations_find_on_map.t,
      type: "button", class: "btn btn-default",
      data: { map_target: "findOnMap", action: "map#findOnMap"}
    )
  end %>
<% end %>

<%= help_block(:div, :form_locations_help.t) %>

<%= render(partial: "locations/form/north_south_east_west_alt_fields",
           locals: { f: f }) %>

<% if location.observations.empty? %>
  <%= check_box_with_label(form: f, field: :hidden, class: "mt-3",
      label: :form_locations_hidden.t) %>
  <%= :form_locations_hidden_doc.t %>
<% end %>

<%= if in_admin_mode?
  check_box_with_label(form: f, field: :locked, class: "mt-3",
                        label: :form_locations_locked.t)
end %>

<%= submit_button(form: f, button: button.l, class: "mt-4",
                  center: false) %>
