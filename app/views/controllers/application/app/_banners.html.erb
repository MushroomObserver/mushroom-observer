<!--CALLOUT_BANNERS-->
<%
admin_banner_classes = "h3 text-center font-weight-bold p-2"
%>

<%= tag.div(id: "banners", class: "hidden-print") do %>

  <% if in_admin_mode? %>
    <%= tag.div(
      "DANGER: You are in administrator mode. Proceed with caution.",
      id: "admin_banner", class: admin_banner_classes
    ) %>
  <% elsif session[:real_user_id].present? %>
    <%= tag.div(
      "DANGER: You are currently logged in as #{User.current.login}.",
      id: "admin_banner", class: admin_banner_classes
    ) %>
  <% end %>

  <%= tag.div(data: { controller: "banner" }) do
    [
      render(Components::Alert.new(
        level: :success,
        class: "message-banner",
        data: { banner_target: "banner" }
      )) do
        [
          tag.button(
            link_icon(:chevron_up, title: :CLOSE.l),
            type: :button, class: "close",
            id: "dismiss-banner",
            data: { banner_target: "dismissButton",
                    version: Banner.current.version },
            aria: { label: :CLOSE.l }
          ),
          tag.p(Banner.current.message.t)
        ].safe_join
      end,
      tag.div(
        class: "position-relative w-100 py-2 text-right",
        data: { banner_target: "container" }
      ) do
        tag.div(
          link_icon(:chevron_down, title: :SHOW.l),
          class: "show_banner_icon text-green d-block",
          data: { banner_target: "showButton" }
        )
      end
    ].safe_join
  end if Banner.current %>

<% end %>
<!--/CALLOUT_BANNERS-->
