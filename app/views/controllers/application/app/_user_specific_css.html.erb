<%#
show/hide controls per user.
This needs to be in a template to access the User.current method.

  Use: `tag.div(data: { user_specific: User.current.login })`

source: https://discuss.hotwired.dev/t/how-to-pass-current-user-id-to-a-controller/287/3
%>

<% unless in_admin_mode? %>
  <% cache User.current do %>
    <style>
      <% if User.current %>
        [data-user-specific]:not(
          [data-user-specific="<%= User.current.login %>"]
        ) {
          display: none;
        }
      <% else %>
        [data-user-specific] { display: none; }
      <% end %>
    </style>
  <% end %>
<% end %>
