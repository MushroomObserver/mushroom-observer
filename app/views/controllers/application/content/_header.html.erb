<%#
The header for page content (below the application top nav)
May include:
prev_next_pager
title
query filters (indexes)
context_help
owner_naming
interest_icons
context_nav
type_filters
%>
<%
has_banner = content_for?(:banner_image)
add_filter_help(@any_content_filters_applied)
title_cols = content_for?(:left_columns) || "col-sm-8 col-lg-7"
title_cols = content_for?(:interest_icons) ? title_cols : ""
title_cols = class_names("col-xs-12", title_cols)
index_bar =
  (action_name == "index" && controller.controller_name != "articles") ||
  controller.controller_name == "maps"
%>

<%= tag.header(id: "header") do %>
  <%# Immediately below the top nav: index filters or page title, plus page nav.
      Indexes have no "#title" â€” `rubric` in top_nav has the model name. %>
  <%= render(partial: "application/content/project_banner") if has_banner %>

  <%= tag.div(class: "row") do %>
    <%# Project tabs %>
    <% if content_for?(:project_tabs) %>
      <%= tag.div(class: title_cols, id: "project_tabs") do
        yield(:project_tabs)
      end %>
    <% end %>
  <% end %>

  <% if index_bar %>
    <%# Index filters and pagination, full width. %>
    <%= render(partial: "application/content/index_bar") %>
  <% elsif action_name != "index" %>
    <%# Page title, edit icons, interest icons and page nav. %>
    <%= render(partial: "application/content/page_title") %>
  <% end %>

  <%= tag.div(class: "row") do %>
    <%# RssLog type filters %>
    <% if content_for?(:type_filters) %>
      <%= tag.div(class: "hidden-print col-xs-12") do
        yield(:type_filters)
      end %>
    <% end %>

    <%# Project observation buttons %>
    <% if content_for?(:observation_buttons) %>
      <%= tag.div(class: title_cols, id: "observation_buttons") do
        yield(:observation_buttons)
      end %>
    <% end %>
  <% end %>
<% end %>
