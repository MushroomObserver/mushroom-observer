<!--top_nav-->
<% container_classes = class_names(%w[
container-fluid px-0 d-flex flex-row align-items-center justify-content-between
]) %>

<nav id="top_nav" class="navbar navbar-default hidden-xs hidden-print"
     data-nav-target="topNav">

  <%= tag.div(class: container_classes) do %>
    <%= tag.h4(rubric, class: "") %>
    <% if controller.controller_name == "identify" %>
      <%= render(partial: "observations/identify/form_identify_filter") %>
    <% elsif(content_for?(:sorter)) %>
      <%= yield(:sorter) %>
    <% end %>
    <% if content_for?(:context_nav) %>
      <%= yield(:context_nav) %>
    <% end %>
    <% if @user.nil? %>
      <%= render(partial: "application/top_nav/login") %>
    <% else ##user is logged in %>
      <%= render(partial: "application/top_nav/user_nav") %>
    <% end %>
  <% end %>

  <%= tag.div(class: container_classes) do %>
    <%= render(partial: "application/top_nav/search_form") %>
  <% end %>
</nav>
<!--/top_nav-->
