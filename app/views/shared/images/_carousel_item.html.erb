
<%
presenter_args = local_assigns.except(:image).merge({ fit: :contain })
presenter = ThumbnailPresenter.new(image, @view, presenter_args)
active = (image == default_image) ? " active" : ""
caption = if (notes = image_notes(image, presenter.original)).present?
            tag.div(notes, class: "carousel-caption d-none d-md-block")
          else
            ""
          end
%>

<%= tag.div(class: "carousel-item#{active}") do
  [
    image_tag(presenter.img_src, presenter.options_lazy),
    caption,
    image_stretched_link(presenter.image_link, presenter.image_link_method),
    lightbox_link(presenter.lightbox_data),
    vote_section_html(presenter.votes, presenter.image),
  ].safe_join
end %>
