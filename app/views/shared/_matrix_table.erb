<%# This template is much simpler in BS4
passing in the objects as a collection with a partial is much faster,
but not always possible if we want to render a block %>

<%= unless defined? object_counter
  objects.each_with_index do |object, idx|
    concat(tag.div("", class: "hidden visible-sm-block",
                       style: "clear:left")) if idx % 2 == 0
    concat(tag.div("", class: "hidden visible-md-block",
                       style: "clear:left")) if idx % 3 == 0
    concat(tag.div("", class: "hidden visible-lg-block",
                       style: "clear:left")) if idx % 4 == 0
    concat(yield(object))
  end
else
  concat(tag.div("", class: "hidden visible-sm-block",
                     style: "clear:left")) if object_counter % 2 == 0
  concat(tag.div("", class: "hidden visible-md-block",
                     style: "clear:left")) if object_counter % 3 == 0
  concat(tag.div("", class: "hidden visible-lg-block",
                     style: "clear:left")) if object_counter % 4 == 0
  concat(yield(object))
end %>
