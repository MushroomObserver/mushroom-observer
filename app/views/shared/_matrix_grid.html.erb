<%#
passing in the objects as a collection with a partial is much faster, but not always possible if we want to render a block
allows passing locals through to the partial, except the ones used here
%>

<%
partial = local_assigns[:partial].present? ? local_assigns[:partial] :
                                             "shared/matrix_box"
as = local_assigns[:as].present? ? local_assigns[:as] : :object
%>

<%= content_tag(:ul, class: "row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 list-unstyled mt-3") do %>
  <%= render(partial: partial,
             locals: local_assigns.except(:objects, :as, :partial),
             collection: local_assigns[:objects], as: as) %>
<% end %>

<%= content_tag(:div, "", class: "clearfix") %>

