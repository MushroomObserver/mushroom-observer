<%
# Note this uses a specialized matrix box here, not using the general partial.
%>

<%= form_with(url: form_action, method: :put) do |form| %>

  <%= form.submit(:image_remove_remove.l,
                  class: "btn btn-default d-block mx-auto my-3") %>

  <ul class="row list-unstyled mt-3">

    <%= render(layout: "shared/matrix_table",
               locals: {objects: @object.images}) do |image| %>

      <li class="matrix-box col-xs-12 col-sm-6 col-md-4">
        <div class="py-3 text-center">
          <% # no special link-or-button param here, there's a checkbox below %>
          <%= thumbnail(image,
                        original: true,
                        extra_classes: "image-to-remove",
                        votes: false) %>
        </div>
        <div class="pb-3 text-center">
          <%= fields_for(:selected) do |f_s| %>
            <%= f_s.check_box(image.id, {}, "yes", "no") %>
            <%= f_s.label(image.id, "#{:image.t} ##{image.id}") %>
          <% end %>
        </div>
      </li><!-- .matrix-box -->

    <% end %>

  </ul>

  <%= form.submit(:image_remove_remove.l,
                  class: "btn btn-default d-block mx-auto my-3") %>

<% end %>

