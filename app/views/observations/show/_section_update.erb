<%
# Update observation view with results of update or create
# Needs locals: identifier
# The namings table is in another folder
if identifier == "namings"
  id = "namings_table"
  partial = "observations/namings/table"
else
  id = "observation_#{identifier}"
  partial = "observations/show/#{identifier}"
end
%>

<%= turbo_stream.replace(id) do
  render(
    partial: partial,
    locals: { obs: @observation.reload },
    layout: false
  )
end %>

<%= turbo_stream.update("page_flash") do
  flash_notices_html
end %>
