// What to do if create doesn't save

var modal_body = $("#modal_propose_naming_body");

// replace the flash notices in the modal
$("#modal_flash").remove();
modal_body.prepend("<%= j render(partial: 'layouts/app/flash_notices', locals: { id: 'modal_flash' }) if flash_notices? %>");

// replace the form, should show
$("#naming_form").remove();
modal_body.append('<%= j render(partial: "observations/namings/form", locals: { action: :create, show_reasons: true, local: false }) %>')

// re-bind autocomplete to naming_input
var naming_input = $("#naming_name");

new MOAutocompleter(jQuery.extend({
  input_elem: naming_input,
  ajax_url: "/ajax/auto_complete/name/@",
  collapse: 1
}));

naming_input.focus();
