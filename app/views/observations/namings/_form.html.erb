<%
# Fields must be separate because they're included in the obs form too.
case action_name
when "new", "create"
  button_name = :CREATE.l
  method = :post
  url = observation_namings_path(observation_id: @observation.id,
                                  approved_name: @params.what,
                                  q: get_query_param)
when "edit", "update"
  button_name = :SAVE_EDITS.l
  method = :patch
  url = naming_path(id: @params.naming.id,
                    approved_name: @params.what,
                    q: get_query_param)
end

%>

<%= form_with(model: @naming, url: url, method: method, local: local,
              id: "naming_form") do |f| %>

  <%= submit_button(form: f, button: button_name, center: true) %>

  <%= render(partial: "observations/namings/fields",
             locals: { f: f, action: action, button_name: button_name,
                       show_reasons: true }) %>

<% end # form %>
