// Update page with results of update or create naming or vote
// Has additional functionality to observations/show/section_update
// it updates the obs title and redoes form bindings.

<%= render(
  partial: "observations/show/section_update",
  locals: { identifier: "namings" }
) %>

<%= render(
  partial: "observations/show/section_update",
  locals: { identifier: "name_info" }
) %>

// reset title of obs if necessary
var new_title = '<%= show_obs_title(obs: @observation) %>',
    new_title_tag = '<%= tag.h1(
      show_obs_title(obs: @observation), class: "h3", id: "title"
    ) %>';

document.title = new_title;
$("#title").replaceWith(new_title_tag);

// Need to redo naming table bindings and hide cast vote buttons
VoteByAjaxModule({
  show_namings_lose_changes: '<%= j :show_namings_lose_changes.l.gsub("\n", " ") %>',
  show_namings_saving: '<%= j :show_namings_saving.l %>'
})
