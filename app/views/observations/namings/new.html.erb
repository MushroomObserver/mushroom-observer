<%
  @observation = @params.observation
  @reasons = @params.reasons
  @title = :create_naming_title.t(id: @observation.id)

  tabs = [
    link_with_query(:cancel_and_show.t(type: :observation),
                    @observation.show_link_args)
  ]
  @tabsets = { right: draw_tab_set(tabs) }
  @container = :wide
%>

<div class="row">
  <div class="col-xs-12 col-sm-8">
    <div class="mt-3">
      <%= render(partial: "observations/show/observation",
                locals: { observation: @observation }) %>
    </div>

    <%= form_with(model: @naming,
                  url: observation_namings_path(
                    observation_id: @observation.id,
                    approved_name: @params.what,
                    q: get_query_param
                  )) do |f|%>

      <%= f.submit(:CREATE.l, class: "btn btn-default center-block mt-5") %>

      <div class="mt-3">
        <%= render(partial: "fields", locals: { action: :create,
                   button_name: :CREATE.l, show_reasons: true }) %>
      </div>

    <% end %>
  </div><!--.col-->

  <div class="col-xs-12 col-sm-4">
    <%= render(partial: "observations/show/images",
              locals: { observation: @observation,
                        thumb_size_control: false }) %>
  </div><!--.col-->
</div><!--.row-->
