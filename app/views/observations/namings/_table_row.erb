<%
# Naming Row (widescreen):
# Shows a proposed naming for this observation, with a tiny vote form.
# Also naming edit and delete buttons if the current user owns the naming.
# @vote is used by observations/namings/votes/form
# Note the nested grid: the reasons are packed under the left 11 cols,
# with the "eyes" graphic in the right 1 col for vertical space
# @vote = votes[naming.id]
row = observation_naming_row(obs, naming, vote)
%>

<%= tag.div(class: "list-group-item") do %>
  <%= tag.div(class: "row align-items-center naming-row",
              id: "observation_naming_#{naming.id}") do
    [
      tag.div(class: "col col-sm-11") do
        [
          tag.div(class: "row align-items-center") do
            concat(tag.div(row[:name], class: "col col-sm-4"))
            concat(tag.div(row[:proposer], class: "col col-sm-3"))
            concat(tag.div(row[:consensus_vote], class: "col col-sm-2"))
            concat(tag.div(row[:your_vote], class: "col col-sm-3"))
          end,
          tag.div(row[:reasons], class: "naming-reasons small mt-1")
        ].safe_join
      end,
      tag.div(row[:eyes], class: "col-sm-1 d-none d-sm-block px-sm-0")
    ].safe_join
  end %>
<% end %>
