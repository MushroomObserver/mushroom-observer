<%
  @title ||= :change_member_status_title.t(
    name: @candidate.legal_name,
    title: @project.title
  )

  tabs = [
    link_to(:app_list_projects.t, projects_path),
    link_with_query(:cancel_and_show.t(type: :project), @project.show_link_args)
  ]
  if check_permission(@project)
    tabs << link_with_query(:change_member_status_edit.t,
                            edit_project_path(@project.id))
  end
  @tabsets = { right: draw_tab_set(tabs) }

  action = project_member_path(project_id: @project.id,
                               candidate: @candidate.id, q: get_query_param)
%>

<%= form_with(url: action, method: :patch, id: "project_member_form") do |f| %>
  <div class="form-group mt-3">
    <%= f.submit(:change_member_status_make_member.l,
                 class: "btn btn-default center-block mb-3") %>
    <%= :change_member_status_make_member_help.t %>
  </div>

  <div class="form-group mt-3">
    <%= f.submit(:change_member_status_remove_member.l,
                 class: "btn btn-default center-block mb-3") %>
    <%= :change_member_status_remove_member_help.t %>
  </div>

  <div class="form-group mt-3">
    <%= f.submit(:change_member_status_make_admin.l,
                 class: "btn btn-default center-block mb-3") %>
    <%= :change_member_status_make_admin_help.t %>
  </div>
<% end %>

<%= render(partial: "projects/groups", locals: { project: @project }) %>
