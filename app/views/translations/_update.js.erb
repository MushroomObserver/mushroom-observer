function updateIndex() {
  const tag = "<%= @tag %>";
  const new_str = "<%= @new_str %>";

  if (tag != undefined) {
    // Make tag in left column gray because it's now been translated.
    // Want only untranslated tags to be bold black to stand out better.
    const _str_tag = document.getElementById('str_' + tag);
    _str_tag.innerHTML = new_str;
    _str_tag.classList.add('translated', 'text-muted');
  } else if (this.LOADED) {
    mo_translations.CHANGED = true;
    mo_translations.disableCommitButtons(false);
  }
}

function updateVersions() {
  const versions = document.getElementById("translation_versions");
  versions.replaceWith('<%= j render(partial: "translations/versions") %>');
}

updateIndex();
updateVersions();
