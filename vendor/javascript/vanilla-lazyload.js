var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var e={};!function(t,i){e=i()}(0,(function(){function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},n.apply(this||t,arguments)}var e="undefined"!=typeof window,i=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),o=e&&"IntersectionObserver"in window,a=e&&"classList"in document.createElement("p"),r=e&&window.devicePixelRatio>1,u={elements_selector:".lazy",container:i||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},c=function(t){return n({},u,t)},l=function(t,e){var i,o="LazyLoad::Initialized",a=new t(e);try{i=new CustomEvent(o,{detail:{instance:a}})}catch(t){(i=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:a})}window.dispatchEvent(i)},s="src",d="srcset",f="sizes",_="poster",g="llOriginalAttrs",v="data",b="loading",p="loaded",m="applied",h="error",E="native",I="data-",x="ll-status",y=function(t,e){return t.getAttribute(I+e)},k=function(t){return y(t,x)},w=function(t,e){return function(t,e,i){var o="data-ll-status";null!==i?t.setAttribute(o,i):t.removeAttribute(o)}(t,0,e)},A=function(t){return w(t,null)},L=function(t){return null===k(t)},O=function(t){return k(t)===E},V=[b,p,m,h],C=function(t,e,i,o){t&&"function"==typeof t&&(void 0===o?void 0===i?t(e):t(e,i):t(e,i,o))},N=function(t,e){a?t.classList.add(e):t.className+=(t.className?" ":"")+e},M=function(t,e){a?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},z=function(t){return t.llTempImage},T=function(t,e){if(e){var i=e._observer;i&&i.unobserve(t)}},R=function(t,e){t&&(t.loadingCount+=e)},G=function(t,e){t&&(t.toLoadCount=e)},j=function(t){for(var e,i=[],o=0;e=t.children[o];o+=1)"SOURCE"===e.tagName&&i.push(e);return i},D=function(t,e){var i=t.parentNode;i&&"PICTURE"===i.tagName&&j(i).forEach(e)},H=function(t,e){j(t).forEach(e)},F=[s],B=[s,_],J=[s,d,f],Y=[v],P=function(t){return!!t[g]},S=function(t){return t[g]},U=function(t){return delete t[g]},$=function(t,e){if(!P(t)){var i={};e.forEach((function(e){i[e]=t.getAttribute(e)})),t[g]=i}},q=function(t,e){if(P(t)){var i=S(t);e.forEach((function(e){!function(t,e,i){i?t.setAttribute(e,i):t.removeAttribute(e)}(t,e,i[e])}))}},K=function(t,e,i){N(t,e.class_applied),w(t,m),i&&(e.unobserve_completed&&T(t,e),C(e.callback_applied,t,i))},Q=function(t,e,i){N(t,e.class_loading),w(t,b),i&&(R(i,1),C(e.callback_loading,t,i))},W=function(t,e,i){i&&t.setAttribute(e,i)},X=function(t,e){W(t,f,y(t,e.data_sizes)),W(t,d,y(t,e.data_srcset)),W(t,s,y(t,e.data_src))},Z={IMG:function(t,e){D(t,(function(t){$(t,J),X(t,e)})),$(t,J),X(t,e)},IFRAME:function(t,e){$(t,F),W(t,s,y(t,e.data_src))},VIDEO:function(t,e){H(t,(function(t){$(t,F),W(t,s,y(t,e.data_src))})),$(t,B),W(t,_,y(t,e.data_poster)),W(t,s,y(t,e.data_src)),t.load()},OBJECT:function(t,e){$(t,Y),W(t,v,y(t,e.data_src))}},dn=["IMG","IFRAME","VIDEO","OBJECT"],nn=function(t,e){!e||function(t){return t.loadingCount>0}(e)||function(t){return t.toLoadCount>0}(e)||C(t.callback_finish,e)},tn=function(t,e,i){t.addEventListener(e,i),t.llEvLisnrs[e]=i},en=function(t,e,i){t.removeEventListener(e,i)},on=function(t){return!!t.llEvLisnrs},an=function(t){if(on(t)){var e=t.llEvLisnrs;for(var i in e){var o=e[i];en(t,i,o)}delete t.llEvLisnrs}},rn=function(t,e,i){!function(t){delete t.llTempImage}(t),R(i,-1),function(t){t&&(t.toLoadCount-=1)}(i),M(t,e.class_loading),e.unobserve_completed&&T(t,i)},cn=function(t,e,i){var o=z(t)||t;on(o)||function(t,e,i){on(t)||(t.llEvLisnrs={});var o="VIDEO"===t.tagName?"loadeddata":"load";tn(t,o,e),tn(t,"error",i)}(o,(function(a){!function(t,e,i,o){var a=O(e);rn(e,i,o),N(e,i.class_loaded),w(e,p),C(i.callback_loaded,e,o),a||nn(i,o)}(0,t,e,i),an(o)}),(function(a){!function(t,e,i,o){var a=O(e);rn(e,i,o),N(e,i.class_error),w(e,h),C(i.callback_error,e,o),i.restore_on_error&&q(e,J),a||nn(i,o)}(0,t,e,i),an(o)}))},ln=function(t,e,i){!function(t){return dn.indexOf(t.tagName)>-1}(t)?function(t,e,i){!function(t){t.llTempImage=document.createElement("IMG")}(t),cn(t,e,i),function(t){P(t)||(t[g]={backgroundImage:t.style.backgroundImage})}(t),function(t,e,i){var o=y(t,e.data_bg),a=y(t,e.data_bg_hidpi),u=r&&a?a:o;u&&(t.style.backgroundImage='url("'.concat(u,'")'),z(t).setAttribute(s,u),Q(t,e,i))}(t,e,i),function(t,e,i){var o=y(t,e.data_bg_multi),a=y(t,e.data_bg_multi_hidpi),u=r&&a?a:o;u&&(t.style.backgroundImage=u,K(t,e,i))}(t,e,i),function(t,e,i){var o=y(t,e.data_bg_set);if(o){var a=o.split("|"),r=a.map((function(t){return"image-set(".concat(t,")")}));t.style.backgroundImage=r.join(),""===t.style.backgroundImage&&(r=a.map((function(t){return"-webkit-image-set(".concat(t,")")})),t.style.backgroundImage=r.join()),K(t,e,i)}}(t,e,i)}(t,e,i):function(t,e,i){cn(t,e,i),function(t,e,i){var o=Z[t.tagName];o&&(o(t,e),Q(t,e,i))}(t,e,i)}(t,e,i)},un=function(t){t.removeAttribute(s),t.removeAttribute(d),t.removeAttribute(f)},sn=function(t){D(t,(function(t){q(t,J)})),q(t,J)},_n={IMG:sn,IFRAME:function(t){q(t,F)},VIDEO:function(t){H(t,(function(t){q(t,F)})),q(t,B),t.load()},OBJECT:function(t){q(t,Y)}},fn=function(t,e){(function(t){var e=_n[t.tagName];e?e(t):function(t){if(P(t)){var e=S(t);t.style.backgroundImage=e.backgroundImage}}(t)})(t),function(t,e){L(t)||O(t)||(M(t,e.class_entered),M(t,e.class_exited),M(t,e.class_applied),M(t,e.class_loading),M(t,e.class_loaded),M(t,e.class_error))}(t,e),A(t),U(t)},In=["IMG","IFRAME","VIDEO"],gn=function(t){return t.use_native&&"loading"in HTMLImageElement.prototype},vn=function(t,e,i){t.forEach((function(t){return function(t){return t.isIntersecting||t.intersectionRatio>0}(t)?function(t,e,i,o){var a=function(t){return V.indexOf(k(t))>=0}(t);w(t,"entered"),N(t,i.class_entered),M(t,i.class_exited),function(t,e,i){e.unobserve_entered&&T(t,i)}(t,i,o),C(i.callback_enter,t,e,o),a||ln(t,i,o)}(t.target,t,e,i):function(t,e,i,o){L(t)||(N(t,i.class_exited),function(t,e,i,o){i.cancel_on_exit&&function(t){return k(t)===b}(t)&&"IMG"===t.tagName&&(an(t),function(t){D(t,(function(t){un(t)})),un(t)}(t),sn(t),M(t,i.class_loading),R(o,-1),A(t),C(i.callback_cancel,t,e,o))}(t,e,i,o),C(i.callback_exit,t,e,o))}(t.target,t,e,i)}))},bn=function(t){return Array.prototype.slice.call(t)},pn=function(t){return t.container.querySelectorAll(t.elements_selector)},mn=function(t){return function(t){return k(t)===h}(t)},hn=function(t,e){return function(t){return bn(t).filter(L)}(t||pn(e))},En=function(i,a){var r=c(i);(this||t)._settings=r,(this||t).loadingCount=0,function(t,e){o&&!gn(t)&&(e._observer=new IntersectionObserver((function(i){vn(i,t,e)}),function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}}(t)))}(r,this||t),function(t,i){e&&(i._onlineHandler=function(){!function(t,e){var i;(i=pn(t),bn(i).filter(mn)).forEach((function(e){M(e,t.class_error),A(e)})),e.update()}(t,i)},window.addEventListener("online",i._onlineHandler))}(r,this||t),this.update(a)};return En.prototype={update:function(e){var a,r,u=(this||t)._settings,s=hn(e,u);G(this||t,s.length),!i&&o?gn(u)?function(t,e,i){t.forEach((function(t){-1!==In.indexOf(t.tagName)&&function(t,e,i){t.setAttribute("loading","lazy"),cn(t,e,i),function(t,e){var i=Z[t.tagName];i&&i(t,e)}(t,e),w(t,E)}(t,e,i)})),G(i,0)}(s,u,this||t):(r=s,function(t){t.disconnect()}(a=(this||t)._observer),function(t,e){e.forEach((function(e){t.observe(e)}))}(a,r)):this.loadAll(s)},destroy:function(){(this||t)._observer&&(this||t)._observer.disconnect(),e&&window.removeEventListener("online",(this||t)._onlineHandler),pn((this||t)._settings).forEach((function(t){U(t)})),delete(this||t)._observer,delete(this||t)._settings,delete(this||t)._onlineHandler,delete(this||t).loadingCount,delete(this||t).toLoadCount},loadAll:function(e){var i=this||t,o=(this||t)._settings;hn(e,o).forEach((function(t){T(t,i),ln(t,o,i)}))},restoreAll:function(){var e=(this||t)._settings;pn(e).forEach((function(t){fn(t,e)}))}},En.load=function(t,e){var i=c(e);ln(t,i)},En.resetStatus=function(t){A(t)},e&&function(t,e){if(e)if(e.length)for(var i,o=0;i=e[o];o+=1)l(t,i);else l(t,e)}(En,window.lazyLoadOptions),En}));var i=e;export{i as default};

