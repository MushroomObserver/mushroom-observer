// qs-esm@7.0.2 downloaded from https://ga.jspm.io/npm:qs-esm@7.0.2/lib/index.js

const e=String.prototype.replace;const t=/%20/g;const o={RFC1738:"RFC1738",RFC3986:"RFC3986"};const n={RFC1738:function(o){return e.call(o,t,"+")},RFC3986:function(e){return String(e)}};const r=o.RFC1738;const l=o.RFC3986;var i=o.RFC3986;var s=Object.freeze(Object.defineProperty({__proto__:null,RFC1738:r,RFC3986:l,default:i,formatters:n},Symbol.toStringTag,{value:"Module"}));"use strict";const c=Object.prototype.hasOwnProperty;const a=Array.isArray;const f=function(){const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();const p=function compactQueue(e){while(e.length>1){const t=e.pop();const o=t.obj[t.prop];if(a(o)){const e=[];for(let t=0;t<o.length;++t)typeof o[t]!=="undefined"&&e.push(o[t]);t.obj[t.prop]=e}}};const u=function arrayToObject(e,t){const o=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)typeof e[t]!=="undefined"&&(o[t]=e[t]);return o};const y=function merge(e,t,o){if(!t)return e;if(typeof t!=="object"){if(a(e))e.push(t);else{if(!e||typeof e!=="object")return[e,t];(o&&(o.plainObjects||o.allowPrototypes)||!c.call(Object.prototype,t))&&(e[t]=true)}return e}if(!e||typeof e!=="object")return[e].concat(t);let n=e;a(e)&&!a(t)&&(n=u(e,o));if(a(e)&&a(t)){t.forEach((function(t,n){if(c.call(e,n)){const r=e[n];r&&typeof r==="object"&&t&&typeof t==="object"?e[n]=merge(r,t,o):e.push(t)}else e[n]=t}));return e}return Object.keys(t).reduce((function(e,n){const r=t[n];c.call(e,n)?e[n]=merge(e[n],r,o):e[n]=r;return e}),n)};const decode=function(e,t,o){const n=e.replace(/\+/g," ");if(o==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}};const d=1024;const m=function encode(e,t,o,n,l){if(e.length===0)return e;let i=e;typeof e==="symbol"?i=Symbol.prototype.toString.call(e):typeof e!=="string"&&(i=String(e));if(o==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let s="";for(let e=0;e<i.length;e+=d){const t=i.length>=d?i.slice(e,e+d):i;const o=[];for(let e=0;e<t.length;++e){let n=t.charCodeAt(e);if(n===45||n===46||n===95||n===126||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||l===r&&(n===40||n===41))o[o.length]=t.charAt(e);else if(n<128)o[o.length]=f[n];else if(n<2048)o[o.length]=f[192|n>>6]+f[128|n&63];else if(n<55296||n>=57344)o[o.length]=f[224|n>>12]+f[128|n>>6&63]+f[128|n&63];else{e+=1;n=65536+((n&1023)<<10|t.charCodeAt(e)&1023);o[o.length]=f[240|n>>18]+f[128|n>>12&63]+f[128|n>>6&63]+f[128|n&63]}}s+=o.join("")}return s};const h=function compact(e){const t=[{obj:{o:e},prop:"o"}];const o=[];for(let e=0;e<t.length;++e){const n=t[e];const r=n.obj[n.prop];const l=Object.keys(r);for(let e=0;e<l.length;++e){const n=l[e];const i=r[n];if(typeof i==="object"&&i!==null&&o.indexOf(i)===-1){t.push({obj:r,prop:n});o.push(i)}}}p(t);return e};const b=function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"};const g=function isBuffer(e){return!(!e||typeof e!=="object")&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};const w=function combine(e,t){return[].concat(e,t)};const j=function maybeMap(e,t){if(a(e)){const o=[];for(let n=0;n<e.length;n+=1)o.push(t(e[n]));return o}return t(e)};"use strict";const O=Object.prototype.hasOwnProperty;const E={brackets:function brackets(e){return e+"[]"},comma:"comma",indices:function indices(e,t){return e+"["+t+"]"},repeat:function repeat(e){return e}};const D=Array.isArray;const A=Array.prototype.push;const pushToArray=function(e,t){A.apply(e,D(t)?t:[t])};const S=Date.prototype.toISOString;const N=i;const I={addQueryPrefix:false,allowDots:false,allowEmptyArrays:false,arrayFormat:"indices",charset:"utf-8",charsetSentinel:false,delimiter:"&",encode:true,encodeDotInKeys:false,encoder:m,encodeValuesOnly:false,format:N,formatter:n[N],indices:false,serializeDate:function serializeDate(e){return S.call(e)},skipNulls:false,strictNullHandling:false};const P=function isNonNullishPrimitive(e){return typeof e==="string"||typeof e==="number"||typeof e==="boolean"||typeof e==="symbol"||typeof e==="bigint"};const x={};const T=function stringify(e,t,o,n,r,l,i,s,c,a,f,p,u,y,d,m,h,b){let w=e;let O=b;let E=0;let A=false;while((O=O.get(x))!==void 0&&!A){const t=O.get(e);E+=1;if(typeof t!=="undefined"){if(t===E)throw new RangeError("Cyclic object value");A=true}typeof O.get(x)==="undefined"&&(E=0)}typeof a==="function"?w=a(t,w):w instanceof Date?w=u(w):o==="comma"&&D(w)&&(w=j(w,(function(e){return e instanceof Date?u(e):e})));if(w===null){if(l)return c&&!m?c(t,I.encoder,h,"key",y):t;w=""}if(P(w)||g(w)){if(c){const e=m?t:c(t,I.encoder,h,"key",y);return[d(e)+"="+d(c(w,I.encoder,h,"value",y))]}return[d(t)+"="+d(String(w))]}const S=[];if(typeof w==="undefined")return S;let N;if(o==="comma"&&D(w)){m&&c&&(w=j(w,c));N=[{value:w.length>0?w.join(",")||null:void 0}]}else if(D(a))N=a;else{const e=Object.keys(w);N=f?e.sort(f):e}const k=s?t.replace(/\./g,"%2E"):t;const K=n&&D(w)&&w.length===1?k+"[]":k;if(r&&D(w)&&w.length===0)return K+"[]";for(let t=0;t<N.length;++t){const g=N[t];const j=typeof g==="object"&&typeof g.value!=="undefined"?g.value:w[g];if(i&&j===null)continue;const O=p&&s?g.replace(/\./g,"%2E"):g;const A=D(w)?typeof o==="function"?o(K,O):K:K+(p?"."+O:"["+O+"]");b.set(e,E);const I=new WeakMap;I.set(x,b);pushToArray(S,T(j,A,o,n,r,l,i,s,o==="comma"&&m&&D(w)?null:c,a,f,p,u,y,d,m,h,I))}return S};const k=function normalizeStringifyOptions(e){if(!e)return I;if(typeof e.allowEmptyArrays!=="undefined"&&typeof e.allowEmptyArrays!=="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys!=="undefined"&&typeof e.encodeDotInKeys!=="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder!=="undefined"&&typeof e.encoder!=="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||I.charset;if(typeof e.charset!=="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let o=i;if(typeof e.format!=="undefined"){if(!O.call(n,e.format))throw new TypeError("Unknown format option provided.");o=e.format}const r=n[o];let l=I.filter;(typeof e.filter==="function"||D(e.filter))&&(l=e.filter);let s;s=e.arrayFormat in E?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":I.arrayFormat;if("commaRoundTrip"in e&&typeof e.commaRoundTrip!=="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const c=typeof e.allowDots==="undefined"?e.encodeDotInKeys===true||I.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix==="boolean"?e.addQueryPrefix:I.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof e.allowEmptyArrays==="boolean"?!!e.allowEmptyArrays:I.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel==="boolean"?e.charsetSentinel:I.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter==="undefined"?I.delimiter:e.delimiter,encode:typeof e.encode==="boolean"?e.encode:I.encode,encodeDotInKeys:typeof e.encodeDotInKeys==="boolean"?e.encodeDotInKeys:I.encodeDotInKeys,encoder:typeof e.encoder==="function"?e.encoder:I.encoder,encodeValuesOnly:typeof e.encodeValuesOnly==="boolean"?e.encodeValuesOnly:I.encodeValuesOnly,filter:l,format:o,formatter:r,serializeDate:typeof e.serializeDate==="function"?e.serializeDate:I.serializeDate,skipNulls:typeof e.skipNulls==="boolean"?e.skipNulls:I.skipNulls,sort:typeof e.sort==="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling==="boolean"?e.strictNullHandling:I.strictNullHandling}};function stringify(e,t){let o=e;const n=k(t);let r;let l;if(typeof n.filter==="function"){l=n.filter;o=l("",o)}else if(D(n.filter)){l=n.filter;r=l}const i=[];if(typeof o!=="object"||o===null)return"";const s=E[n.arrayFormat];const c=s==="comma"&&n.commaRoundTrip;r||(r=Object.keys(o));n.sort&&r.sort(n.sort);const a=new WeakMap;for(let e=0;e<r.length;++e){const t=r[e];n.skipNulls&&o[t]===null||pushToArray(i,T(o[t],t,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,a))}const f=i.join(n.delimiter);let p=n.addQueryPrefix===true?"?":"";n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&");return f.length>0?p+f:""}"use strict";const K=Object.prototype.hasOwnProperty;const R=Array.isArray;const C={allowDots:false,allowEmptyArrays:false,allowPrototypes:false,allowSparse:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decodeDotInKeys:false,decoder:decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictNullHandling:false};const interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))};const parseArrayValue=function(e,t){return e&&typeof e==="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e};const v="utf8=%26%2310003%3B";const F="utf8=%E2%9C%93";const L=function parseQueryStringValues(e,t){const o={__proto__:null};const n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;const r=t.parameterLimit===Infinity?void 0:t.parameterLimit;const l=n.split(t.delimiter,r);let i=-1;let s;let c=t.charset;if(t.charsetSentinel)for(s=0;s<l.length;++s)if(l[s].indexOf("utf8=")===0){l[s]===F?c="utf-8":l[s]===v&&(c="iso-8859-1");i=s;s=l.length}for(s=0;s<l.length;++s){if(s===i)continue;const e=l[s];const n=e.indexOf("]=");const r=n===-1?e.indexOf("="):n+1;let a,f;if(r===-1){a=t.decoder(e,C.decoder,c,"key");f=t.strictNullHandling?null:""}else{a=t.decoder(e.slice(0,r),C.decoder,c,"key");f=j(parseArrayValue(e.slice(r+1),t),(function(e){return t.decoder(e,C.decoder,c,"value")}))}f&&t.interpretNumericEntities&&c==="iso-8859-1"&&(f=interpretNumericEntities(f));e.indexOf("[]=")>-1&&(f=R(f)?[f]:f);const p=K.call(o,a);p&&t.duplicates==="combine"?o[a]=w(o[a],f):p&&t.duplicates!=="last"||(o[a]=f)}return o};const parseObject=function(e,t,o,n){let r=n?t:parseArrayValue(t,o);for(let t=e.length-1;t>=0;--t){let n;const l=e[t];if(l==="[]"&&o.parseArrays)n=o.allowEmptyArrays&&r===""?[]:[].concat(r);else{n=o.plainObjects?Object.create(null):{};const e=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l;const t=o.decodeDotInKeys?e.replace(/%2E/g,"."):e;const i=parseInt(t,10);if(o.parseArrays||t!=="")if(!isNaN(i)&&l!==t&&String(i)===t&&i>=0&&o.parseArrays&&i<=o.arrayLimit){n=[];n[i]=r}else t!=="__proto__"&&(n[t]=r);else n={0:r}}r=n}return r};const Q=function parseQueryStringKeys(e,t,o,n){if(!e)return;const r=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;const l=/(\[[^[\]]*])/;const i=/(\[[^[\]]*])/g;let s=o.depth>0&&l.exec(r);const c=s?r.slice(0,s.index):r;const a=[];if(c){if(!o.plainObjects&&K.call(Object.prototype,c)&&!o.allowPrototypes)return;a.push(c)}let f=0;while(o.depth>0&&(s=i.exec(r))!==null&&f<o.depth){f+=1;if(!o.plainObjects&&K.call(Object.prototype,s[1].slice(1,-1))&&!o.allowPrototypes)return;a.push(s[1])}s&&a.push("["+r.slice(s.index)+"]");return parseObject(a,t,o,n)};const H=function normalizeParseOptions(e){if(!e)return C;if(typeof e.allowEmptyArrays!=="undefined"&&typeof e.allowEmptyArrays!=="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys!=="undefined"&&typeof e.decodeDotInKeys!=="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder!=="undefined"&&typeof e.decoder!=="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!=="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");const t=typeof e.charset==="undefined"?C.charset:e.charset;const o=typeof e.duplicates==="undefined"?C.duplicates:e.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");const n=typeof e.allowDots==="undefined"?e.decodeDotInKeys===true||C.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays==="boolean"?!!e.allowEmptyArrays:C.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes==="boolean"?e.allowPrototypes:C.allowPrototypes,allowSparse:typeof e.allowSparse==="boolean"?e.allowSparse:C.allowSparse,arrayLimit:typeof e.arrayLimit==="number"?e.arrayLimit:C.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel==="boolean"?e.charsetSentinel:C.charsetSentinel,comma:typeof e.comma==="boolean"?e.comma:C.comma,decodeDotInKeys:typeof e.decodeDotInKeys==="boolean"?e.decodeDotInKeys:C.decodeDotInKeys,decoder:typeof e.decoder==="function"?e.decoder:C.decoder,delimiter:typeof e.delimiter==="string"||b(e.delimiter)?e.delimiter:C.delimiter,depth:typeof e.depth==="number"||e.depth===false?+e.depth:C.depth,duplicates:o,ignoreQueryPrefix:e.ignoreQueryPrefix===true,interpretNumericEntities:typeof e.interpretNumericEntities==="boolean"?e.interpretNumericEntities:C.interpretNumericEntities,parameterLimit:typeof e.parameterLimit==="number"?e.parameterLimit:C.parameterLimit,parseArrays:e.parseArrays!==false,plainObjects:typeof e.plainObjects==="boolean"?e.plainObjects:C.plainObjects,strictNullHandling:typeof e.strictNullHandling==="boolean"?e.strictNullHandling:C.strictNullHandling}};function parse(e,t){const o=H(t);if(e===""||e===null||typeof e==="undefined")return o.plainObjects?Object.create(null):{};const n=typeof e==="string"?L(e,o):e;let r=o.plainObjects?Object.create(null):{};const l=Object.keys(n);for(let t=0;t<l.length;++t){const i=l[t];const s=Q(i,n[i],o,typeof e==="string");r=y(r,s,o)}return o.allowSparse===true?r:h(r)}"use strict";export{s as formats,parse,stringify};

